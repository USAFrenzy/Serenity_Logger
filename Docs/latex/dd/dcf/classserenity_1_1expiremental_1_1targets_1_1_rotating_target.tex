\doxysection{serenity\+::expiremental\+::targets\+::Rotating\+Target Class Reference}
\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target}\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}


This class is in charge of logging to any basic file type and handling the rotation of files up to a maximum number of files set. This class inherits from the \doxyref{File\+Target}{p.}{dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target} class and, therefore, the \doxyref{Target\+Base}{p.}{dd/d74/classserenity_1_1expiremental_1_1targets_1_1_target_base} class for common logging functions and logging settings.  




{\ttfamily \#include $<$Rotating\+Target.\+h$>$}

Inheritance diagram for serenity\+::expiremental\+::targets\+::Rotating\+Target\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=3.000000cm]{dd/dcf/classserenity_1_1expiremental_1_1targets_1_1_rotating_target}
\end{center}
\end{figure}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\textbf{ Rotating\+Target} ()
\begin{DoxyCompactList}\small\item\em Default constructor that will set the logger name to \char`\"{}\+Rotating\+\_\+\+Logger\char`\"{}. All sets all other values to their defaults. \end{DoxyCompactList}\item 
\textbf{ Rotating\+Target} (std\+::string\+\_\+view name, std\+::string\+\_\+view file\+Path, bool replace\+If\+Exists=false)
\begin{DoxyCompactList}\small\item\em Constructor that sets the logger name, the file name, file path, and log directory off the {\ttfamily file\+Path} variable, and will truncate the file if it already exists depending on the value of {\ttfamily replace\+If\+Exists}. \end{DoxyCompactList}\item 
\textbf{ Rotating\+Target} (std\+::string\+\_\+view name, std\+::string\+\_\+view format\+Pattern, std\+::string\+\_\+view file\+Path, bool replace\+If\+Exists=false)
\begin{DoxyCompactList}\small\item\em Constructor that sets the logger name, the format pattern to use, the file name, file path, and log directory off the {\ttfamily file\+Path} variable, and will truncate the file if it already exists depending on the value of {\ttfamily replace\+If\+Exists}. \end{DoxyCompactList}\item 
\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a5ee2c6d0a50a23c9734da9c1e8025df3}} 
{\bfseries Rotating\+Target} (const \textbf{ Rotating\+Target} \&)=delete
\begin{DoxyCompactList}\small\item\em Deleted. \end{DoxyCompactList}\item 
\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_aa10fc123a0a8877e96db67be922c11f1}} 
\textbf{ Rotating\+Target} \& {\bfseries operator=} (const \textbf{ Rotating\+Target} \&)=delete
\begin{DoxyCompactList}\small\item\em Deleted. \end{DoxyCompactList}\item 
\textbf{ $\sim$\+Rotating\+Target} ()
\begin{DoxyCompactList}\small\item\em Cleans up any background resources used and closes the file context currently held. \end{DoxyCompactList}\item 
\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a4b1635772b462e8ae88b56094da65502}} 
void {\bfseries Should\+Rotate\+File} (bool should\+Rotate=true)
\begin{DoxyCompactList}\small\item\em This function takes in a boolean value that determines whether or not the file context currently held should rotate when file size limit option has been reached. \end{DoxyCompactList}\item 
void \textbf{ Set\+Rotate\+Settings} (\textbf{ Rotate\+Settings} settings)
\begin{DoxyCompactList}\small\item\em Sets the overall rotation settings for the logger in regards to the filecontext. \end{DoxyCompactList}\item 
void \textbf{ Rename\+File\+For\+Rotation} ()
\begin{DoxyCompactList}\small\item\em Sets up the base file given in constructor, or the base file after being renamed, for rotation. \end{DoxyCompactList}\item 
void \textbf{ Rotate\+File\+On\+Size} ()
\begin{DoxyCompactList}\small\item\em This function controls how the file is rotated. If the logger should rotate, the file will be closed and the next file in iteration up to the max file limit will be opened for writing. \end{DoxyCompactList}\item 
bool \textbf{ Rename\+File} (std\+::string\+\_\+view new\+File\+Name) override
\begin{DoxyCompactList}\small\item\em Renames the current file to the name passed in via {\ttfamily new\+File\+Name}. \end{DoxyCompactList}\item 
void \textbf{ Print\+Message} (std\+::string\+\_\+view formatted) override
\begin{DoxyCompactList}\small\item\em Writes the message to the currently held file context unless writing to the buffer was enabled -\/ in which case, this will write to the buffer instead. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Additional Inherited Members}


\doxysubsection{Detailed Description}
This class is in charge of logging to any basic file type and handling the rotation of files up to a maximum number of files set. This class inherits from the \doxyref{File\+Target}{p.}{dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target} class and, therefore, the \doxyref{Target\+Base}{p.}{dd/d74/classserenity_1_1expiremental_1_1targets_1_1_target_base} class for common logging functions and logging settings. 

For all Rotating Target Constructors\+: ~\newline

\begin{DoxyItemize}
\item if either the directories or the file don\textquotesingle{}t exist yet, the $\ast$constructor will create the neccessary directories ~\newline
 as well as the file needed to write to. ~\newline

\item For the constructors that don\textquotesingle{}t take a file path variable, the logs will be written to a \char`\"{}\+Logs\char`\"{} directory in the ~\newline
 location that the app is being run from. ~\newline
 
\end{DoxyItemize}

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a51151ca9fc9f97139b234d25d59e9c0a}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!RotatingTarget@{RotatingTarget}}
\index{RotatingTarget@{RotatingTarget}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{RotatingTarget()\hspace{0.1cm}{\footnotesize\ttfamily [1/3]}}
{\footnotesize\ttfamily serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Rotating\+Target (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Default constructor that will set the logger name to \char`\"{}\+Rotating\+\_\+\+Logger\char`\"{}. All sets all other values to their defaults. 

The default constructor will also create a file named \char`\"{}\+Rotating\+\_\+\+Log.\+txt\char`\"{} upon creation. This base name and extension will be cached internally and the file will be renamed as Rotating\+\_\+\+Log\+\_\+01.\+txt and follow rotation settings thereafter in the \char`\"{}\+Logs\char`\"{} directory of where the app is running from 

References \textbf{ Rename\+File\+For\+Rotation()}, and \textbf{ serenity\+::expiremental\+::targets\+::\+Target\+Base\+::\+Set\+Logger\+Name()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a46cba28127a43fc749fea7acc4429586}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!RotatingTarget@{RotatingTarget}}
\index{RotatingTarget@{RotatingTarget}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{RotatingTarget()\hspace{0.1cm}{\footnotesize\ttfamily [2/3]}}
{\footnotesize\ttfamily serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Rotating\+Target (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{name,  }\item[{std\+::string\+\_\+view}]{file\+Path,  }\item[{bool}]{replace\+If\+Exists = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructor that sets the logger name, the file name, file path, and log directory off the {\ttfamily file\+Path} variable, and will truncate the file if it already exists depending on the value of {\ttfamily replace\+If\+Exists}. 

This constructor will cache the file name, the file path, the file extension, and the log directory off of the {\ttfamily file\+Path} variable. The file will then be renamed for rotation -\/ if the file already exists, it will delete the oldest file with the base file name and rename the file using that file\textquotesingle{}s index number. 
\begin{DoxyParams}{Parameters}
{\em name} & the name that the logger itself will use and be identified by \\
\hline
{\em file\+Path} & the full path to the file to write to \\
\hline
{\em replace\+If\+Exists} & this value will determine if the file is truncated upon being opened the first time \\
\hline
\end{DoxyParams}


References \textbf{ Rename\+File\+For\+Rotation()}, and \textbf{ serenity\+::expiremental\+::targets\+::\+Target\+Base\+::\+Set\+Logger\+Name()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a470854865a43ba27bc1faec14aa04f1f}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!RotatingTarget@{RotatingTarget}}
\index{RotatingTarget@{RotatingTarget}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{RotatingTarget()\hspace{0.1cm}{\footnotesize\ttfamily [3/3]}}
{\footnotesize\ttfamily serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Rotating\+Target (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{name,  }\item[{std\+::string\+\_\+view}]{format\+Pattern,  }\item[{std\+::string\+\_\+view}]{file\+Path,  }\item[{bool}]{replace\+If\+Exists = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}



Constructor that sets the logger name, the format pattern to use, the file name, file path, and log directory off the {\ttfamily file\+Path} variable, and will truncate the file if it already exists depending on the value of {\ttfamily replace\+If\+Exists}. 

This constructor will cache the file name, the file path, the file extension, and the log directory off of the {\ttfamily file\+Path} variable. The file will then be renamed for rotation -\/ if the file already exists, it will delete the oldest file with the base file name and rename the file using that file\textquotesingle{}s index number. 
\begin{DoxyParams}{Parameters}
{\em name} & the name that the logger itself will use and be identified by \\
\hline
{\em format\+Pattern} & the format pattern that determines how the prepended text will be displayed before the log message \\
\hline
{\em file\+Path} & the full path to the file to write to \\
\hline
{\em replace\+If\+Exists} & this value will determine if the file is truncated upon being opened the first time \\
\hline
\end{DoxyParams}


References \textbf{ Rename\+File\+For\+Rotation()}, and \textbf{ serenity\+::expiremental\+::targets\+::\+Target\+Base\+::\+Set\+Logger\+Name()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a40acb1fb8072c6fe9e42207115d50420}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!````~RotatingTarget@{$\sim$RotatingTarget}}
\index{````~RotatingTarget@{$\sim$RotatingTarget}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{$\sim$RotatingTarget()}
{\footnotesize\ttfamily serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::$\sim$\+Rotating\+Target (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Cleans up any background resources used and closes the file context currently held. 

When the deconstructor is called, will clean up background flush thread if enabled, flush the contents of the file handle to the file (if messages were written to buffer, will now write contents of buffer to file), and then close the file context 

References \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Close\+File()}.



\doxysubsection{Member Function Documentation}
\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a90c8a3f9917674edfed9d4ad0a5169d9}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!PrintMessage@{PrintMessage}}
\index{PrintMessage@{PrintMessage}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{PrintMessage()}
{\footnotesize\ttfamily void serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Print\+Message (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{formatted }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Writes the message to the currently held file context unless writing to the buffer was enabled -\/ in which case, this will write to the buffer instead. 

Checks if background flush thread is active, if it is -\/ will lock access to the file for writing. If rotate setting is enabled, will check that the file size doesn\textquotesingle{}t exceed file size limit and writes the message to the file. If the file size would exceed the limit, closes the current file and rotates to next file before writing the message. This function will then follow any settings active in the flush policy 
\begin{DoxyParams}{Parameters}
{\em formatted} & The actual message in its entirety to send to the output destination. \\
\hline
\end{DoxyParams}


Reimplemented from \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target} \doxyref{}{p.}{dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target_ac17d3f0ca839ed863e16115b8587e1cb}.



References \textbf{ Rotate\+File\+On\+Size()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a896eedf218ba0cd6c21c0b761e948b80}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!RenameFile@{RenameFile}}
\index{RenameFile@{RenameFile}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{RenameFile()}
{\footnotesize\ttfamily bool serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Rename\+File (\begin{DoxyParamCaption}\item[{std\+::string\+\_\+view}]{new\+File\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [override]}, {\ttfamily [virtual]}}



Renames the current file to the name passed in via {\ttfamily new\+File\+Name}. 

Will close the current file being written to and replace the old file name with the new file name given. Previous files are unaffected. However, if cycling through rotation, future files will have this new name as their base as well. 

Reimplemented from \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target} \doxyref{}{p.}{dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target_a840beb71fa0e349a0b2c7b03f08420d3}.



References \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Close\+File()}, \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Open\+File()}, and \textbf{ Rename\+File\+For\+Rotation()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a7d3293a86ea6164d38c1555cef2e8eff}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!RenameFileForRotation@{RenameFileForRotation}}
\index{RenameFileForRotation@{RenameFileForRotation}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{RenameFileForRotation()}
{\footnotesize\ttfamily void serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Rename\+File\+For\+Rotation (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Sets up the base file given in constructor, or the base file after being renamed, for rotation. 

This function will cache the file\textquotesingle{}s name, extension, and path, as well as the log directory for the file before renaming the current file to the first iteration of the log file to rotate through. (Example\+: Rotate\+\_\+\+Log.\+txt becomes Rotate\+\_\+\+Log\+\_\+01.\+txt). If this rotation-\/ready file already exists, will open the file by overwriting its contents and truncating its size to 0. 

References \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Close\+File()}, and \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Open\+File()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_a81512fcdd5f96dbaecf080c4e161c456}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!RotateFileOnSize@{RotateFileOnSize}}
\index{RotateFileOnSize@{RotateFileOnSize}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{RotateFileOnSize()}
{\footnotesize\ttfamily void serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Rotate\+File\+On\+Size (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This function controls how the file is rotated. If the logger should rotate, the file will be closed and the next file in iteration up to the max file limit will be opened for writing. 

If the logger should rotate, will close the current file, increment the file count up to max number of files set, and try to open the next file in iteration. If file already exists, will remove the oldest file with the given file name base before opening the next file in iteration. If the setting {\ttfamily rotate\+File} is set to false, this function will return and do nothing else. 

References \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Close\+File()}, and \textbf{ serenity\+::expiremental\+::targets\+::\+File\+Target\+::\+Open\+File()}.

\mbox{\label{classserenity_1_1expiremental_1_1targets_1_1_rotating_target_aa462f60978046554450c890e20754e1b}} 
\index{serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}!SetRotateSettings@{SetRotateSettings}}
\index{SetRotateSettings@{SetRotateSettings}!serenity::expiremental::targets::RotatingTarget@{serenity::expiremental::targets::RotatingTarget}}
\doxysubsubsection{SetRotateSettings()}
{\footnotesize\ttfamily void serenity\+::expiremental\+::targets\+::\+Rotating\+Target\+::\+Set\+Rotate\+Settings (\begin{DoxyParamCaption}\item[{\textbf{ Rotate\+Settings}}]{settings }\end{DoxyParamCaption})}



Sets the overall rotation settings for the logger in regards to the filecontext. 

Current options revolve aroundfile size settings only and can be found in the \doxyref{Rotate\+Settings}{p.}{dd/d96/structserenity_1_1expiremental_1_1_rotate_settings} class. 
\begin{DoxyParams}{Parameters}
{\em settings} & controls the following\+: file size limit, number of files to rotate through, and whether or not the logger should rotate through files up to the max number of files set \\
\hline
\end{DoxyParams}


The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
Serenity\+\_\+\+Logger/\+Sandbox/src/\+Experimental\+\_\+\+SB/\+Targets/Rotating\+Target.\+h\item 
Serenity\+\_\+\+Logger/\+Sandbox/src/\+Experimental\+\_\+\+SB/\+Targets/Rotating\+Target.\+cpp\end{DoxyCompactItemize}

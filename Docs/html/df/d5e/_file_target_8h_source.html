<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Serenity Logger: FileTarget.h Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Serenity Logger
   </div>
   <div id="projectbrief">A very fast and effiecient logging library. This library currently can log to files, rotate files when logging, log to the terminal, and is aware if the terminal is being piped during logging.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('df/d5e/_file_target_8h_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">FileTarget.h</div></div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span><span class="preprocessor">#pragma once</span></div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span> </div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span><span class="preprocessor">#include &quot;Target.h&quot;</span></div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span> </div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span><span class="preprocessor">#include &lt;fstream&gt;</span></div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span> </div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span><span class="keyword">namespace </span>serenity::expiremental::targets</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span>{</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno"><a class="line" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html">   22</a></span>    <span class="keyword">class </span><a class="code hl_class" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html">FileTarget</a> : <span class="keyword">public</span> <a class="code hl_class" href="../../dd/d74/classserenity_1_1expiremental_1_1targets_1_1_target_base.html">TargetBase</a></div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>    {</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>      <span class="keyword">public</span>:</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>        <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a538eb3c82f4c8fcfbd4f1913964a6a4d">FileTarget</a>( );</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>        <span class="keyword">explicit</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a538eb3c82f4c8fcfbd4f1913964a6a4d">FileTarget</a>( std::string_view fileName, <span class="keywordtype">bool</span> replaceIfExists = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>        <span class="keyword">explicit</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a538eb3c82f4c8fcfbd4f1913964a6a4d">FileTarget</a>( std::string_view name, std::string_view filePath, <span class="keywordtype">bool</span> replaceIfExists = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span>        <span class="keyword">explicit</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a538eb3c82f4c8fcfbd4f1913964a6a4d">FileTarget</a>( std::string_view name, std::string_view formatPattern, std::string_view filePath,</div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span>                             <span class="keywordtype">bool</span> replaceIfExists = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span>        <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a538eb3c82f4c8fcfbd4f1913964a6a4d">FileTarget</a>( <span class="keyword">const</span> <a class="code hl_class" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html">FileTarget</a> &amp; ) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span>        <a class="code hl_class" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html">FileTarget</a> &amp;operator=( <span class="keyword">const</span> <a class="code hl_class" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html">FileTarget</a> &amp; ) = <span class="keyword">delete</span>;</div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span>        <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#abb8eb7a0485853ebcc0f9a6975800a20">~FileTarget</a>( );</div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span>        <span class="keyword">const</span> std::string <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ac47165787a3473fa07ac20b52f9e0cb9">FilePath</a>( );</div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span>        <span class="keyword">const</span> std::string <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a05f286e2fc3d792f2dcb9fbd65d263fc">FileName</a>( );</div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ab425429c9f0d88baec5c122fff2eba75">EraseContents</a>( );</div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span>        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a840beb71fa0e349a0b2c7b03f08420d3">RenameFile</a>( std::string_view newFileName );</div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ab19812d9b25aac8532eec307d9820718">OpenFile</a>( <span class="keywordtype">bool</span> truncate = <span class="keyword">false</span> );</div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span>        <span class="keywordtype">bool</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#af4147b9b283d46f9de20fed081b394e0">CloseFile</a>( );</div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a2f6ad6fd27f4a0fe5f41f8def08c8d9e">Flush</a>( );</div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span> </div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span>      <span class="keyword">private</span>:</div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span>        LoggerLevel   logLevel;</div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span>        <a class="code hl_class" href="../../d7/d3e/classserenity_1_1expiremental_1_1_flush___policy.html">Flush_Policy</a> &amp;policy;</div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span> </div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span>      <span class="keyword">protected</span>:</div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span>        std::ofstream    fileHandle;</div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span>        <a class="code hl_struct" href="../../da/db6/structserenity_1_1expiremental_1_1_file_settings.html">FileSettings</a>     fileOptions;</div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span>        <a class="code hl_struct" href="../../dc/d42/structserenity_1_1expiremental_1_1_background_thread.html">BackgroundThread</a> flushWorker;</div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a0fb50e998ca49f78eb36b1f821ecfcb4">PolicyFlushOn</a>( ) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span>        <span class="keywordtype">void</span> <a class="code hl_function" href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ac17d3f0ca839ed863e16115b8587e1cb">PrintMessage</a>( std::string_view formatted ) <span class="keyword">override</span>;</div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span>    };</div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span>}  <span class="comment">// namespace serenity::expiremental::targets</span></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1_flush___policy_html"><div class="ttname"><a href="../../d7/d3e/classserenity_1_1expiremental_1_1_flush___policy.html">serenity::expiremental::Flush_Policy</a></div><div class="ttdef"><b>Definition:</b> FlushPolicy.h:29</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html">serenity::expiremental::targets::FileTarget</a></div><div class="ttdoc">This class is in charge of logging to any basic file type and inherits from the TargetBase class for ...</div><div class="ttdef"><b>Definition:</b> FileTarget.h:23</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_a05f286e2fc3d792f2dcb9fbd65d263fc"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a05f286e2fc3d792f2dcb9fbd65d263fc">serenity::expiremental::targets::FileTarget::FileName</a></div><div class="ttdeci">const std::string FileName()</div><div class="ttdoc">Returns the file name of the file context currently being held.</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:117</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_a0fb50e998ca49f78eb36b1f821ecfcb4"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a0fb50e998ca49f78eb36b1f821ecfcb4">serenity::expiremental::targets::FileTarget::PolicyFlushOn</a></div><div class="ttdeci">void PolicyFlushOn() override</div><div class="ttdoc">Executes the currently set flush policy.</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:215</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_a2f6ad6fd27f4a0fe5f41f8def08c8d9e"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a2f6ad6fd27f4a0fe5f41f8def08c8d9e">serenity::expiremental::targets::FileTarget::Flush</a></div><div class="ttdeci">void Flush()</div><div class="ttdoc">If contents were written to buffer, this will now write contents of buffer to file and flush contents...</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:205</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_a538eb3c82f4c8fcfbd4f1913964a6a4d"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a538eb3c82f4c8fcfbd4f1913964a6a4d">serenity::expiremental::targets::FileTarget::FileTarget</a></div><div class="ttdeci">FileTarget()</div><div class="ttdoc">Default constructor that sets the logger name to &quot;File_Target&quot; and sets all other values to their def...</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:10</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_a840beb71fa0e349a0b2c7b03f08420d3"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#a840beb71fa0e349a0b2c7b03f08420d3">serenity::expiremental::targets::FileTarget::RenameFile</a></div><div class="ttdeci">virtual bool RenameFile(std::string_view newFileName)</div><div class="ttdoc">Closes the file (if open) and trys to rename current file context. If rename is succesful,...</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:170</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_ab19812d9b25aac8532eec307d9820718"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ab19812d9b25aac8532eec307d9820718">serenity::expiremental::targets::FileTarget::OpenFile</a></div><div class="ttdeci">bool OpenFile(bool truncate=false)</div><div class="ttdoc">Opens the file held by the file handle.</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:122</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_ab425429c9f0d88baec5c122fff2eba75"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ab425429c9f0d88baec5c122fff2eba75">serenity::expiremental::targets::FileTarget::EraseContents</a></div><div class="ttdeci">void EraseContents()</div><div class="ttdoc">Closes the file context currently being held and re-opens the same file context, truncating the file ...</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:145</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_abb8eb7a0485853ebcc0f9a6975800a20"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#abb8eb7a0485853ebcc0f9a6975800a20">serenity::expiremental::targets::FileTarget::~FileTarget</a></div><div class="ttdeci">~FileTarget()</div><div class="ttdoc">Cleans up any background threads, flushes contents to disk, and closes the file context being used.</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:108</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_ac17d3f0ca839ed863e16115b8587e1cb"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ac17d3f0ca839ed863e16115b8587e1cb">serenity::expiremental::targets::FileTarget::PrintMessage</a></div><div class="ttdeci">void PrintMessage(std::string_view formatted) override</div><div class="ttdoc">Writes the message passed in by the formatted variable to the file context.</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:189</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_ac47165787a3473fa07ac20b52f9e0cb9"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#ac47165787a3473fa07ac20b52f9e0cb9">serenity::expiremental::targets::FileTarget::FilePath</a></div><div class="ttdeci">const std::string FilePath()</div><div class="ttdoc">Returns the file path of the file context currently being held.</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:113</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_file_target_html_af4147b9b283d46f9de20fed081b394e0"><div class="ttname"><a href="../../dc/d9f/classserenity_1_1expiremental_1_1targets_1_1_file_target.html#af4147b9b283d46f9de20fed081b394e0">serenity::expiremental::targets::FileTarget::CloseFile</a></div><div class="ttdeci">bool CloseFile()</div><div class="ttdoc">Joins any currently running flush background thread (if enabled) and if the file handle's file contex...</div><div class="ttdef"><b>Definition:</b> FileTarget.cpp:151</div></div>
<div class="ttc" id="aclassserenity_1_1expiremental_1_1targets_1_1_target_base_html"><div class="ttname"><a href="../../dd/d74/classserenity_1_1expiremental_1_1targets_1_1_target_base.html">serenity::expiremental::targets::TargetBase</a></div><div class="ttdoc">The base class that derived target classes inherit from. Contains common functions between all target...</div><div class="ttdef"><b>Definition:</b> Target.h:25</div></div>
<div class="ttc" id="astructserenity_1_1expiremental_1_1_background_thread_html"><div class="ttname"><a href="../../dc/d42/structserenity_1_1expiremental_1_1_background_thread.html">serenity::expiremental::BackgroundThread</a></div><div class="ttdoc">Struct that holds the specific variables in charge of the background flush thread in file targets.</div><div class="ttdef"><b>Definition:</b> Common.h:140</div></div>
<div class="ttc" id="astructserenity_1_1expiremental_1_1_file_settings_html"><div class="ttname"><a href="../../da/db6/structserenity_1_1expiremental_1_1_file_settings.html">serenity::expiremental::FileSettings</a></div><div class="ttdoc">Struct that holds the basic file settings for file targets.</div><div class="ttdef"><b>Definition:</b> Common.h:148</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d6566dce0e80bbc07bd0910f23e42586.html">Sandbox</a></li><li class="navelem"><a class="el" href="../../dir_de23c1fbcc3e5590d6f77f071e4e3d00.html">src</a></li><li class="navelem"><a class="el" href="../../dir_7404178dd79b5b0be58122ff5c189367.html">Experimental_SB</a></li><li class="navelem"><a class="el" href="../../dir_bf2976c6443f685b4aa74d3a96bcd5c1.html">Targets</a></li><li class="navelem"><b>FileTarget.h</b></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
  </ul>
</div>
</body>
</html>
